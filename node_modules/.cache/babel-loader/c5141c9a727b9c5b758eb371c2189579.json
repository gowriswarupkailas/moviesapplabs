{"ast":null,"code":"import _slicedToArray from \"/Users/gowriswarupkailasperumal/Documents/WebAppDev2/moviesapplabs/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/slicedToArray\";\nexport var getMovies = function getMovies() {\n  return fetch(\"https://api.themoviedb.org/3/discover/movie?api_key=\".concat(process.env.REACT_APP_TMDB_KEY, \"&language=en-US&include_adult=false&include_video=false&page=1\")).then(function (response) {\n    if (!response.ok) {\n      throw new Error(response.json().message);\n    }\n\n    return response.json();\n  }).catch(function (error) {\n    throw error;\n  });\n};\nexport var getMovie = function getMovie(args) {\n  // console.log(args)\n  var _args$queryKey = _slicedToArray(args.queryKey, 2),\n      idPart = _args$queryKey[1];\n\n  var id = idPart.id;\n  return fetch(\"https://api.themoviedb.org/3/movie/\".concat(id, \"?api_key=\").concat(process.env.REACT_APP_TMDB_KEY)).then(function (response) {\n    if (!response.ok) {\n      throw new Error(response.json().message);\n    }\n\n    return response.json();\n  }).catch(function (error) {\n    throw error;\n  });\n};\nexport var getGenres = function getGenres() {\n  return fetch(\"https://api.themoviedb.org/3/genre/movie/list?api_key=\" + process.env.REACT_APP_TMDB_KEY + \"&language=en-US\").then(function (res) {\n    return res.json();\n  }); // .then(data => data);\n};\nexport var getMovieImages = function getMovieImages(_ref) {\n  var queryKey = _ref.queryKey;\n\n  var _queryKey = _slicedToArray(queryKey, 2),\n      idPart = _queryKey[1];\n\n  var id = idPart.id;\n  return fetch(\"https://api.themoviedb.org/3/movie/\".concat(id, \"/images?api_key=\").concat(process.env.REACT_APP_TMDB_KEY)).then(function (response) {\n    if (!response.ok) {\n      throw new Error(response.json().message);\n    }\n\n    return response.json();\n  }).catch(function (error) {\n    throw error;\n  });\n};\nexport var getMovieReviews = function getMovieReviews(id) {\n  return fetch(\"https://api.themoviedb.org/3/movie/\".concat(id, \"/reviews?api_key=\").concat(process.env.REACT_APP_TMDB_KEY)).then(function (res) {\n    return res.json();\n  }).then(function (json) {\n    // console.log(json.results);\n    return json.results;\n  });\n};","map":{"version":3,"sources":["/Users/gowriswarupkailasperumal/Documents/WebAppDev2/moviesapplabs/src/api/tmdb-api.js"],"names":["getMovies","fetch","process","env","REACT_APP_TMDB_KEY","then","response","ok","Error","json","message","catch","error","getMovie","args","queryKey","idPart","id","getGenres","res","getMovieImages","getMovieReviews","results"],"mappings":";AAAA,OAAO,IAAMA,SAAS,GAAG,SAAZA,SAAY,GAAM;AAC7B,SAAOC,KAAK,+DAC6CC,OAAO,CAACC,GAAR,CAAYC,kBADzD,oEAAL,CAELC,IAFK,CAEA,UAACC,QAAD,EAAc;AACnB,QAAI,CAACA,QAAQ,CAACC,EAAd,EAAkB;AAChB,YAAM,IAAIC,KAAJ,CAAUF,QAAQ,CAACG,IAAT,GAAgBC,OAA1B,CAAN;AACD;;AACD,WAAOJ,QAAQ,CAACG,IAAT,EAAP;AACD,GAPM,EAQNE,KARM,CAQA,UAACC,KAAD,EAAW;AACf,UAAMA,KAAN;AACF,GAVM,CAAP;AAWD,CAZM;AAcP,OAAO,IAAMC,QAAQ,GAAG,SAAXA,QAAW,CAACC,IAAD,EAAU;AAChC;AACA,sCAAmBA,IAAI,CAACC,QAAxB;AAAA,MAASC,MAAT;;AACA,MAAQC,EAAR,GAAeD,MAAf,CAAQC,EAAR;AACA,SAAOhB,KAAK,8CAC4BgB,EAD5B,sBAC0Cf,OAAO,CAACC,GAAR,CAAYC,kBADtD,EAAL,CAELC,IAFK,CAEA,UAACC,QAAD,EAAc;AACnB,QAAI,CAACA,QAAQ,CAACC,EAAd,EAAkB;AAChB,YAAM,IAAIC,KAAJ,CAAUF,QAAQ,CAACG,IAAT,GAAgBC,OAA1B,CAAN;AACD;;AACD,WAAOJ,QAAQ,CAACG,IAAT,EAAP;AACD,GAPM,EAQNE,KARM,CAQA,UAACC,KAAD,EAAW;AAChB,UAAMA,KAAN;AACF,GAVO,CAAP;AAWD,CAfM;AAiBL,OAAO,IAAMM,SAAS,GAAG,SAAZA,SAAY,GAAM;AAC7B,SAAOjB,KAAK,CACV,2DACEC,OAAO,CAACC,GAAR,CAAYC,kBADd,GAEE,iBAHQ,CAAL,CAKJC,IALI,CAKC,UAAAc,GAAG;AAAA,WAAIA,GAAG,CAACV,IAAJ,EAAJ;AAAA,GALJ,CAAP,CAD6B,CAO3B;AACH,CARM;AAUP,OAAO,IAAMW,cAAc,GAAG,SAAjBA,cAAiB,OAAkB;AAAA,MAAfL,QAAe,QAAfA,QAAe;;AAC9C,iCAAmBA,QAAnB;AAAA,MAASC,MAAT;;AACA,MAAQC,EAAR,GAAeD,MAAf,CAAQC,EAAR;AACA,SAAOhB,KAAK,8CAC4BgB,EAD5B,6BACiDf,OAAO,CAACC,GAAR,CAAYC,kBAD7D,EAAL,CAELC,IAFK,CAEC,UAACC,QAAD,EAAc;AACpB,QAAI,CAACA,QAAQ,CAACC,EAAd,EAAkB;AAChB,YAAM,IAAIC,KAAJ,CAAUF,QAAQ,CAACG,IAAT,GAAgBC,OAA1B,CAAN;AACD;;AACD,WAAOJ,QAAQ,CAACG,IAAT,EAAP;AAED,GARM,EASNE,KATM,CASA,UAACC,KAAD,EAAW;AAChB,UAAMA,KAAN;AACF,GAXO,CAAP;AAYD,CAfM;AAiBP,OAAO,IAAMS,eAAe,GAAG,SAAlBA,eAAkB,CAACJ,EAAD,EAAQ;AACrC,SAAOhB,KAAK,8CAC4BgB,EAD5B,8BACkDf,OAAO,CAACC,GAAR,CAAYC,kBAD9D,EAAL,CAGJC,IAHI,CAGC,UAACc,GAAD;AAAA,WAASA,GAAG,CAACV,IAAJ,EAAT;AAAA,GAHD,EAIJJ,IAJI,CAIC,UAACI,IAAD,EAAU;AACd;AACA,WAAOA,IAAI,CAACa,OAAZ;AACD,GAPI,CAAP;AAQD,CATM","sourcesContent":["export const getMovies = () => {\n  return fetch(\n    `https://api.themoviedb.org/3/discover/movie?api_key=${process.env.REACT_APP_TMDB_KEY}&language=en-US&include_adult=false&include_video=false&page=1`\n  ).then((response) => {\n    if (!response.ok) {\n      throw new Error(response.json().message);\n    }\n    return response.json();\n  })\n  .catch((error) => {\n     throw error\n  });\n};\n  \nexport const getMovie = (args) => {\n  // console.log(args)\n  const [, idPart] = args.queryKey;\n  const { id } = idPart;\n  return fetch(\n    `https://api.themoviedb.org/3/movie/${id}?api_key=${process.env.REACT_APP_TMDB_KEY}`\n  ).then((response) => {\n    if (!response.ok) {\n      throw new Error(response.json().message);\n    }\n    return response.json();\n  })\n  .catch((error) => {\n    throw error\n });\n};\n\n  export const getGenres = () => {\n    return fetch(\n      \"https://api.themoviedb.org/3/genre/movie/list?api_key=\" +\n        process.env.REACT_APP_TMDB_KEY +\n        \"&language=en-US\"\n    )\n      .then(res => res.json() )\n      // .then(data => data);\n  };\n  \n  export const getMovieImages = ({ queryKey }) => {\n    const [, idPart] = queryKey;\n    const { id } = idPart;\n    return fetch(\n      `https://api.themoviedb.org/3/movie/${id}/images?api_key=${process.env.REACT_APP_TMDB_KEY}`\n    ).then( (response) => {\n      if (!response.ok) {\n        throw new Error(response.json().message);\n      }\n      return response.json();\n  \n    })\n    .catch((error) => {\n      throw error\n   });\n  };\n  \n  export const getMovieReviews = (id) => {\n    return fetch(\n      `https://api.themoviedb.org/3/movie/${id}/reviews?api_key=${process.env.REACT_APP_TMDB_KEY}`\n    )\n      .then((res) => res.json())\n      .then((json) => {\n        // console.log(json.results);\n        return json.results;\n      });\n  };"]},"metadata":{},"sourceType":"module"}