{"ast":null,"code":"import _toConsumableArray from \"/Users/gowriswarupkailasperumal/OneDrive - Waterford Institute of Technology/Year3Sem1/WebAppDev2/moviesapplabs/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/toConsumableArray\";\nimport _slicedToArray from \"/Users/gowriswarupkailasperumal/OneDrive - Waterford Institute of Technology/Year3Sem1/WebAppDev2/moviesapplabs/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/slicedToArray\";\n\nvar _jsxFileName = \"/Users/gowriswarupkailasperumal/OneDrive - Waterford Institute of Technology/Year3Sem1/WebAppDev2/moviesapplabs/src/pages/upcomingMoviesPage.js\",\n    _this = this,\n    _s = $RefreshSig$();\n\nimport React from \"react\";\nimport PageTemplate from \"../components/templateMovieListPage\";\nimport { getUpcomingMovies } from \"../api/tmdb-api\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\n\nvar UpcomingMoviesPage = function UpcomingMoviesPage(props) {\n  _s();\n\n  var _useState = useState([]),\n      _useState2 = _slicedToArray(_useState, 2),\n      movies = _useState2[0],\n      setMovies = _useState2[1];\n\n  useEffect(function () {\n    getUpcomingMovies().then(function (movies) {\n      setMovies(movies);\n    });\n  }, []);\n\n  var addToFavorites = function addToFavorites(movieId) {\n    setMovies(function (movies) {\n      var index = movies.map(function (m) {\n        return m.id;\n      }).indexOf(movieId);\n      StubAPI.add(movies[index]);\n\n      var newMoviesState = _toConsumableArray(movies);\n\n      newMoviesState.splice(index, 1);\n      return newMoviesState;\n    });\n  };\n\n  return /*#__PURE__*/_jsxDEV(PageTemplate, {\n    title: \"Upcoming Movies\",\n    movies: movies,\n    buttonHandler: addToFavorites\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 26,\n    columnNumber: 11\n  }, _this);\n};\n\n_s(UpcomingMoviesPage, \"MO6b3PSP3RIUqZ8gtSrBZBVtBbs=\");\n\n_c = UpcomingMoviesPage;\nexport default UpcomingMoviesPage;\n\nvar _c;\n\n$RefreshReg$(_c, \"UpcomingMoviesPage\");","map":{"version":3,"sources":["/Users/gowriswarupkailasperumal/OneDrive - Waterford Institute of Technology/Year3Sem1/WebAppDev2/moviesapplabs/src/pages/upcomingMoviesPage.js"],"names":["React","PageTemplate","getUpcomingMovies","UpcomingMoviesPage","props","useState","movies","setMovies","useEffect","then","addToFavorites","movieId","index","map","m","id","indexOf","StubAPI","add","newMoviesState","splice"],"mappings":";;;;;;;AAAA,OAAOA,KAAP,MAAkB,OAAlB;AACA,OAAOC,YAAP,MAAyB,qCAAzB;AACA,SAASC,iBAAT,QAAkC,iBAAlC;;;AAGA,IAAMC,kBAAkB,GAAG,SAArBA,kBAAqB,CAACC,KAAD,EAAW;AAAA;;AAClC,kBAA4BC,QAAQ,CAAC,EAAD,CAApC;AAAA;AAAA,MAAOC,MAAP;AAAA,MAAeC,SAAf;;AAEAC,EAAAA,SAAS,CAAC,YAAM;AACdN,IAAAA,iBAAiB,GAAGO,IAApB,CAAyB,UAAAH,MAAM,EAAI;AACjCC,MAAAA,SAAS,CAACD,MAAD,CAAT;AACD,KAFD;AAGD,GAJQ,EAIN,EAJM,CAAT;;AAMA,MAAMI,cAAc,GAAG,SAAjBA,cAAiB,CAAAC,OAAO,EAAI;AAC9BJ,IAAAA,SAAS,CAAC,UAAAD,MAAM,EAAI;AAClB,UAAMM,KAAK,GAAGN,MAAM,CAACO,GAAP,CAAW,UAAAC,CAAC;AAAA,eAAIA,CAAC,CAACC,EAAN;AAAA,OAAZ,EAAsBC,OAAtB,CAA8BL,OAA9B,CAAd;AACAM,MAAAA,OAAO,CAACC,GAAR,CAAYZ,MAAM,CAACM,KAAD,CAAlB;;AACA,UAAIO,cAAc,sBAAOb,MAAP,CAAlB;;AACAa,MAAAA,cAAc,CAACC,MAAf,CAAsBR,KAAtB,EAA6B,CAA7B;AACA,aAAOO,cAAP;AACD,KANQ,CAAT;AAOD,GARH;;AAUE,sBACI,QAAC,YAAD;AACE,IAAA,KAAK,EAAC,iBADR;AAEE,IAAA,MAAM,EAAEb,MAFV;AAGE,IAAA,aAAa,EAAEI;AAHjB;AAAA;AAAA;AAAA;AAAA,WADJ;AAOD,CA1BL;;GAAMP,kB;;KAAAA,kB;AA4BN,eAAeA,kBAAf","sourcesContent":["import React from \"react\";\nimport PageTemplate from \"../components/templateMovieListPage\";\nimport { getUpcomingMovies } from \"../api/tmdb-api\";\n\n\nconst UpcomingMoviesPage = (props) => {\n    const [movies, setMovies] = useState([]);\n\n    useEffect(() => {\n      getUpcomingMovies().then(movies => {\n        setMovies(movies);\n      });\n    }, []);\n\n    const addToFavorites = movieId => {\n        setMovies(movies => {\n          const index = movies.map(m => m.id).indexOf(movieId);\n          StubAPI.add(movies[index]);\n          let newMoviesState = [...movies]\n          newMoviesState.splice(index, 1);\n          return newMoviesState;\n        });\n      };\n    \n      return (\n          <PageTemplate\n            title='Upcoming Movies'\n            movies={movies}\n            buttonHandler={addToFavorites}\n          />\n      );\n    };\n    \nexport default UpcomingMoviesPage;\n\n"]},"metadata":{},"sourceType":"module"}