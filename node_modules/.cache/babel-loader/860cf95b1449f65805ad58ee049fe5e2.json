{"ast":null,"code":"var _jsxFileName = \"/Users/gowriswarupkailasperumal/OneDrive - Waterford Institute of Technology/Year3Sem1/WebAppDev2/moviesapplabs/src/pages/homePage.js\",\n    _this = this,\n    _s = $RefreshSig$();\n\nimport React from \"react\";\nimport PageTemplate from \"../components/templateMovieListPage\";\nimport { useQuery } from 'react-query';\nimport Spinner from '../components/spinner';\nimport { getMovies } from '../api/tmdb-api';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\n\nvar HomePage = function HomePage(props) {\n  _s();\n\n  var _useQuery = useQuery('discover', getMovies),\n      data = _useQuery.data,\n      error = _useQuery.error,\n      isLoading = _useQuery.isLoading,\n      isError = _useQuery.isError;\n\n  if (isLoading) {\n    return /*#__PURE__*/_jsxDEV(Spinner, {}, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 11,\n      columnNumber: 12\n    }, _this);\n  }\n\n  if (isError) {\n    return /*#__PURE__*/_jsxDEV(\"h1\", {\n      children: error.message\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 15,\n      columnNumber: 12\n    }, _this);\n  }\n\n  var movies = data.results; // Redundant, but necessary to avoid app crashing.\n\n  var favorites = movies.filter(function (m) {\n    return m.favorite;\n  });\n  localStorage.setItem('favorites', JSON.stringify(favorites));\n\n  var addToFavorites = function addToFavorites(movieId) {\n    return true;\n  };\n\n  return /*#__PURE__*/_jsxDEV(PageTemplate, {\n    title: \"Discover Movies\",\n    movies: movies,\n    selectFavorite: addToFavorites\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 25,\n    columnNumber: 5\n  }, _this);\n};\n\n_s(HomePage, \"gRWcc9Q6k3CVvKOllxZBlhahD78=\", false, function () {\n  return [useQuery];\n});\n\n_c = HomePage;\nexport default HomePage;\n\nvar _c;\n\n$RefreshReg$(_c, \"HomePage\");","map":{"version":3,"sources":["/Users/gowriswarupkailasperumal/OneDrive - Waterford Institute of Technology/Year3Sem1/WebAppDev2/moviesapplabs/src/pages/homePage.js"],"names":["React","PageTemplate","useQuery","Spinner","getMovies","HomePage","props","data","error","isLoading","isError","message","movies","results","favorites","filter","m","favorite","localStorage","setItem","JSON","stringify","addToFavorites","movieId"],"mappings":";;;;AAAA,OAAOA,KAAP,MAAkB,OAAlB;AACA,OAAOC,YAAP,MAAyB,qCAAzB;AACA,SAASC,QAAT,QAAyB,aAAzB;AACA,OAAOC,OAAP,MAAoB,uBAApB;AACA,SAAQC,SAAR,QAAwB,iBAAxB;;;AAEA,IAAMC,QAAQ,GAAG,SAAXA,QAAW,CAACC,KAAD,EAAW;AAAA;;AAC1B,kBAA8CJ,QAAQ,CAAC,UAAD,EAAaE,SAAb,CAAtD;AAAA,MAASG,IAAT,aAASA,IAAT;AAAA,MAAeC,KAAf,aAAeA,KAAf;AAAA,MAAsBC,SAAtB,aAAsBA,SAAtB;AAAA,MAAiCC,OAAjC,aAAiCA,OAAjC;;AAEA,MAAID,SAAJ,EAAe;AACb,wBAAO,QAAC,OAAD;AAAA;AAAA;AAAA;AAAA,aAAP;AACD;;AAED,MAAIC,OAAJ,EAAa;AACX,wBAAO;AAAA,gBAAKF,KAAK,CAACG;AAAX;AAAA;AAAA;AAAA;AAAA,aAAP;AACD;;AACD,MAAMC,MAAM,GAAGL,IAAI,CAACM,OAApB,CAV0B,CAY1B;;AACA,MAAMC,SAAS,GAAGF,MAAM,CAACG,MAAP,CAAc,UAAAC,CAAC;AAAA,WAAIA,CAAC,CAACC,QAAN;AAAA,GAAf,CAAlB;AACAC,EAAAA,YAAY,CAACC,OAAb,CAAqB,WAArB,EAAkCC,IAAI,CAACC,SAAL,CAAeP,SAAf,CAAlC;;AACA,MAAMQ,cAAc,GAAG,SAAjBA,cAAiB,CAACC,OAAD;AAAA,WAAa,IAAb;AAAA,GAAvB;;AAEA,sBACE,QAAC,YAAD;AACE,IAAA,KAAK,EAAC,iBADR;AAEE,IAAA,MAAM,EAAEX,MAFV;AAGE,IAAA,cAAc,EAAEU;AAHlB;AAAA;AAAA;AAAA;AAAA,WADF;AAOD,CAxBD;;GAAMjB,Q;UAC0CH,Q;;;KAD1CG,Q;AA0BN,eAAeA,QAAf","sourcesContent":["import React from \"react\";\nimport PageTemplate from \"../components/templateMovieListPage\";\nimport { useQuery } from 'react-query'\nimport Spinner from '../components/spinner'\nimport {getMovies} from '../api/tmdb-api'\n\nconst HomePage = (props) => {\n  const {  data, error, isLoading, isError }  = useQuery('discover', getMovies)\n\n  if (isLoading) {\n    return <Spinner />\n  }\n\n  if (isError) {\n    return <h1>{error.message}</h1>\n  }  \n  const movies = data.results;\n\n  // Redundant, but necessary to avoid app crashing.\n  const favorites = movies.filter(m => m.favorite)\n  localStorage.setItem('favorites', JSON.stringify(favorites))\n  const addToFavorites = (movieId) => true \n\n  return (\n    <PageTemplate\n      title=\"Discover Movies\"\n      movies={movies}\n      selectFavorite={addToFavorites}\n    />    \n  );\n};\n\nexport default HomePage;"]},"metadata":{},"sourceType":"module"}